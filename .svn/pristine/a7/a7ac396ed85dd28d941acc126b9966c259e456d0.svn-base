using System;
using System.Drawing;
using System.IO;
using System.Net.Mail;
using System.Reflection;
using System.Windows.Forms;

namespace ObligatorioIS2
{
    public partial class DetalleDeProducto : Form
    {
        public DetalleDeProducto(Producto producto)
        {
            InitializeComponent();
            CargarDatosProducto(producto);
        }

        private void button1_Click(object sender, System.EventArgs e)
        {
            Hide();
            var venBuscarProd = new BuscarProducto();
            venBuscarProd.Show();
        }

        private void CargarDatosProducto(Producto producto)
        {
            if (producto == null)
            {
                return;
            }

            label1.Text = string.Format("{0} {1} {2}", producto.Nombre, producto.Modelo, producto.Especificacion);

            var outPutDirectory = Path.GetDirectoryName(Assembly.GetExecutingAssembly().CodeBase);

            if (outPutDirectory == null)
            {
                return;
            }
            var imagen = Path.Combine(outPutDirectory, producto.PathImagen);

            var relLogo = new Uri(imagen).LocalPath;

            pictureBox1.Image = new Bitmap(new LinkedResource(relLogo).ContentLink.AbsolutePath);
        }
    }
}
